(function(e,t){if(typeof module==="object"&&module.exports){module.exports=t()}else if(typeof define==="function"&&define.amd){define(t)}else{e.findAndReplaceDOMText=t()}})(this,function e(){var t="retain";var n="first";var r=document;var i={}.hasOwnProperty;function o(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(){return d.apply(null,arguments)||s.apply(null,arguments)}function d(e,t,n,r,i){if(t&&!t.nodeType&&arguments.length<=2){return false}var o=typeof n=="function";if(o){n=function(e){return function(t,n){return e(t.text,n.startIndex)}}(n)}var d=s(t,{find:e,wrap:o?null:n,replace:o?n:"$"+(r||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(r>0){var n=e[r];e.index+=e[0].indexOf(n);e[0]=n}e.endIndex=e.index+e[0].length;e.startIndex=e.index;e.index=t;return e},filterElements:i});a.revert=function(){return d.revert()};return true}function s(e,t){return new c(e,t)}a.NON_PROSE_ELEMENTS={br:1,hr:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1};a.NON_CONTIGUOUS_PROSE_ELEMENTS={address:1,article:1,aside:1,blockquote:1,dd:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,nav:1,noscript:1,ol:1,output:1,p:1,pre:1,section:1,ul:1,br:1,li:1,summary:1,dt:1,details:1,rp:1,rt:1,rtc:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1,table:1,tbody:1,thead:1,th:1,tr:1,td:1,caption:1,col:1,tfoot:1,colgroup:1};a.NON_INLINE_PROSE=function(e){return i.call(a.NON_CONTIGUOUS_PROSE_ELEMENTS,e.nodeName.toLowerCase())};a.PRESETS={prose:{forceContext:a.NON_INLINE_PROSE,filterElements:function(e){return!i.call(a.NON_PROSE_ELEMENTS,e.nodeName.toLowerCase())}}};a.Finder=c;function c(e,n){var r=n.preset&&a.PRESETS[n.preset];n.portionMode=n.portionMode||t;if(r){for(var o in r){if(i.call(r,o)&&!i.call(n,o)){n[o]=r[o]}}}this.node=e;this.options=n;this.prepMatch=n.prepMatch||this.prepMatch;this.reverts=[];this.matches=this.search();if(this.matches.length){this.processMatches()}}c.prototype={search:function(){var e;var t=0;var n=0;var r=this.options.find;var i=this.getAggregateText();var a=[];var d=this;r=typeof r==="string"?RegExp(o(r),"g"):r;s(i);function s(i){for(var o=0,c=i.length;o<c;++o){var u=i[o];if(typeof u!=="string"){s(u);continue}if(r.global){while(e=r.exec(u)){a.push(d.prepMatch(e,t++,n))}}else{if(e=u.match(r)){a.push(d.prepMatch(e,0,n))}}n+=u.length}}return a},prepMatch:function(e,t,n){if(!e[0]){throw new Error("findAndReplaceDOMText cannot handle zero-length matches")}e.endIndex=n+e.index+e[0].length;e.startIndex=n+e.index;e.index=t;return e},getAggregateText:function(){var e=this.options.filterElements;var t=this.options.forceContext;return n(this.node);function n(r){if(r.nodeType===Node.TEXT_NODE){return[r.data]}if(e&&!e(r)){return[]}var i=[""];var o=0;if(r=r.firstChild)do{if(r.nodeType===Node.TEXT_NODE){i[o]+=r.data;continue}var a=n(r);if(t&&r.nodeType===Node.ELEMENT_NODE&&(t===true||t(r))){i[++o]=a;i[++o]=""}else{if(typeof a[0]==="string"){i[o]+=a.shift()}if(a.length){i[++o]=a;i[++o]=""}}}while(r=r.nextSibling);return i}},processMatches:function(){var e=this.matches;var t=this.node;var n=this.options.filterElements;var r,i,o=[],a=t,d=e.shift(),s=0,c=0,u=0,l,f=[t];e:while(true){if(a.nodeType===Node.TEXT_NODE){if(!i&&a.length+s>=d.endIndex){i={node:a,index:u++,text:a.data.substring(d.startIndex-s,d.endIndex-s),indexInMatch:s-d.startIndex,indexInNode:d.startIndex-s,endIndexInNode:d.endIndex-s,isEnd:true}}else if(r){o.push({node:a,index:u++,text:a.data,indexInMatch:s-d.startIndex,indexInNode:0})}if(!r&&a.length+s>d.startIndex){r={node:a,index:u++,indexInMatch:0,indexInNode:d.startIndex-s,endIndexInNode:d.endIndex-s,text:a.data.substring(d.startIndex-s,d.endIndex-s)}}s+=a.data.length}l=a.nodeType===Node.ELEMENT_NODE&&n&&!n(a);if(r&&i){a=this.replaceMatch(d,r,o,i);s-=i.node.data.length-i.endIndexInNode;r=null;i=null;o=[];d=e.shift();u=0;c++;if(!d){break}}else if(!l&&(a.firstChild||a.nextSibling)){if(a.firstChild){f.push(a);a=a.firstChild}else{a=a.nextSibling}continue}while(true){if(a.nextSibling){a=a.nextSibling;break}a=f.pop();if(a===t){break e}}}},revert:function(){for(var e=this.reverts.length;e--;){this.reverts[e]()}this.reverts=[]},prepareReplacementString:function(e,t,r){var i=this.options.portionMode;if(i===n&&t.indexInMatch>0){return""}e=e.replace(/\$(\d+|&|`|')/g,function(e,t){var n;switch(t){case"&":n=r[0];break;case"`":n=r.input.substring(0,r.startIndex);break;case"'":n=r.input.substring(r.endIndex);break;default:n=r[+t]}return n});if(i===n){return e}if(t.isEnd){return e.substring(t.indexInMatch)}return e.substring(t.indexInMatch,t.indexInMatch+t.text.length)},getPortionReplacementNode:function(e,t){var n=this.options.replace||"$&";var i=this.options.wrap;var o=this.options.wrapClass;if(i&&i.nodeType){var a=r.createElement("div");a.innerHTML=i.outerHTML||(new XMLSerializer).serializeToString(i);i=a.firstChild}if(typeof n=="function"){n=n(e,t);if(n&&n.nodeType){return n}return r.createTextNode(String(n))}var d=typeof i=="string"?r.createElement(i):i;if(d&&o){d.className=o}n=r.createTextNode(this.prepareReplacementString(n,e,t));if(!n.data){return n}if(!d){return n}d.appendChild(n);return d},replaceMatch:function(e,t,n,i){var o=t.node;var a=i.node;var d;var s;if(o===a){var c=o;if(t.indexInNode>0){d=r.createTextNode(c.data.substring(0,t.indexInNode));c.parentNode.insertBefore(d,c)}var u=this.getPortionReplacementNode(i,e);if(c.parentNode){c.parentNode.insertBefore(u,c)}if(i.endIndexInNode<c.length){s=r.createTextNode(c.data.substring(i.endIndexInNode));c.parentNode.insertBefore(s,c)}c.parentNode.removeChild(c);this.reverts.push(function(){if(d===u.previousSibling){d.parentNode.removeChild(d)}if(s===u.nextSibling){s.parentNode.removeChild(s)}u.parentNode.replaceChild(c,u)});return u}else{d=r.createTextNode(o.data.substring(0,t.indexInNode));s=r.createTextNode(a.data.substring(i.endIndexInNode));var l=this.getPortionReplacementNode(t,e);var f=[];for(var p=0,h=n.length;p<h;++p){var v=n[p];var g=this.getPortionReplacementNode(v,e);v.node.parentNode.replaceChild(g,v.node);this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(v,g));f.push(g)}var N=this.getPortionReplacementNode(i,e);o.parentNode.insertBefore(d,o);o.parentNode.insertBefore(l,o);o.parentNode.removeChild(o);a.parentNode.insertBefore(N,a);a.parentNode.insertBefore(s,a);a.parentNode.removeChild(a);this.reverts.push(function(){d.parentNode.removeChild(d);l.parentNode.replaceChild(o,l);s.parentNode.removeChild(s);N.parentNode.replaceChild(a,N)});return N}}};return a});(function(){var e=false;var t=document.getElementById("switch");var n=document.getElementById("switch-label-status");var r=function(){e=false;var t=" "+document.body.className+" ";document.body.className=t.replace(" t-chip-enabled "," ");n.innerHTML="Disabled";clearCanvases()};var i=function(){e=true;document.body.className+=" t-chip-enabled";n.innerHTML="Enabled";m()};t.onclick=function(){if(e){r()}else{i()}};var o=[];var a=[];var d,s,c,u,l,f,p,h,v;var g;var N=false;function m(){if(!e)return;x()}function x(e){if(!N){requestAnimationFrame(function(){d(e)})}N=true}d=function(e){N=false;if(typeof e==="undefined")e=o;for(var t in e){var n=e[t];var r=a[t];if(v(n)){l(r);f(r,n)}}};v=function(e){if(typeof jQuery==="function"&&e instanceof jQuery){e=e[0]}var t=e.getBoundingClientRect();return e.offsetParent&&t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};s=function(e,t){switch(t){case 1:wrapRum(e||document);break;default:wrapTrump(e||document);break}};wrapTrump=function(e){try{findAndReplaceDOMText(e,{preset:"prose",find:/(tT)rump/g,forceContext:true,wrap:"span",wrapClass:"censored"})}catch(e){}};wrapRum=function(e){try{findAndReplaceDOMText(e,{preset:"prose",find:/([tT])rump/g,forceContext:true,replace:function(e,t){var n=t[1]+'<span class="censored">rum</span>p';var r=document.createElement("span");r.innerHTML=n;return r}})}catch(e){}};c=function(e){if(typeof e==="undefined")e=document;if(e.nodeType&&(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.DOCUMENT_NODE)){var t=e.getElementsByClassName("censored");for(var n=0;n<t.length;n++){o.push(t[n]);a.push(u(t[n]))}}};clearCanvases=function(){for(var e in o){var t=o[e];t.style=""}};u=function(e){var t=document.createElement("canvas");var n=e.getBoundingClientRect();t.width=n.width;t.height=n.height;var r=t.getContext("2d");r.fillStyle=window.getComputedStyle(e,null).color;return t};l=function(e){var t=e.getContext("2d");var n=6;if(e.height>=36)n=12;if(e.height>=64)n=24;var r=e.width/n;var i=Math.ceil(e.height/n);t.clearRect(0,0,e.width,e.height);for(var o=0;o<i;o++){for(var a=0;a<r;a++){t.globalAlpha=getWeightedRandom();t.fillRect(a*n,o*n,n,n)}}};f=function(e,t){var n=t.style;n.backgroundImage="url("+e.toDataURL()+")";n.backgroundRepeat="no-repeat";n.backgroundPosition="center center";n.color="transparent"};setupWeightedRandomTable=function(e){var t,n,r=[];for(t in e){for(n=0;n<e[t]*10;n++){r.push(t)}}return function(){return r[Math.floor(Math.random()*r.length)]}};h=function(){g=new MutationObserver(function(e,t){t.disconnect();var n=o.slice();e.forEach(function(e){for(var t=0;t<e.addedNodes.length;t++){s(e.addedNodes[t],1);c(e.addedNodes[t])}});t.observe(document.body,{childList:true,subtree:true});var r=o.filter(function(e){return n.indexOf(e)<0});x(r)});g.observe(document.body,{childList:true,subtree:true})};s(document,1);c();h();getWeightedRandom=setupWeightedRandomTable({0:12,.1:10,.2:8,.3:7,.4:6,.5:5,.6:3,.7:2,.8:1,.9:.5,1:.25});window.addEventListener("scroll",m);if(e)d()})();